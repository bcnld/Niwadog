<!DOCTYPE html>
<html lang="ja">
<head><meta charset="UTF-8" /><title>テスト</title></head>
<body>
<script>
class TitleScreen {
  constructor() {
    this.createElements();

    this.companyList = [
      { name: "Mdm", logo: "" },
      { name: "Sus Dog", logo: "" },
      { name: "Homo iranai", logo: "" }
    ];
    this.currentCompanyIndex = 0;

    this.state = "showCompany";
    this.opacity = 0;
    this.fadeIn = true;
    this.holdTimer = 0;

    window.addEventListener("keydown", () => this.onAnyKey());
    window.addEventListener("touchstart", () => this.onAnyKey());

    this.run();
  }
  createElements() {
    this.container = document.createElement("div");
    Object.assign(this.container.style, {
      position: "fixed",
      top: "0",
      left: "0",
      width: "100vw",
      height: "100vh",
      backgroundColor: "black",
      color: "white",
      fontFamily: "'Arial Black', sans-serif",
      display: "flex",
      flexDirection: "column",
      justifyContent: "center",
      alignItems: "center",
      userSelect: "none"
    });
    document.body.appendChild(this.container);

    this.companyLogo = document.createElement("img");
    Object.assign(this.companyLogo.style, {
      maxWidth: "300px",
      maxHeight: "150px",
      opacity: "0",
      marginBottom: "20px",
      userSelect: "none"
    });
    this.container.appendChild(this.companyLogo);

    this.companyText = document.createElement("div");
    Object.assign(this.companyText.style, {
      fontSize: "48px",
      opacity: "0",
      userSelect: "none"
    });
    this.container.appendChild(this.companyText);
  }
  run() {
    requestAnimationFrame(() => this.loop());
  }
  loop() {
    switch (this.state) {
      case "showCompany": this.showCompanyLoop(); break;
    }
    requestAnimationFrame(() => this.loop());
  }
  showCompanyLoop() {
    const current = this.companyList[this.currentCompanyIndex];
    if (this.fadeIn) {
      this.opacity += 0.02;
      if (this.opacity >= 1) {
        this.opacity = 1;
        this.fadeIn = false;
        this.holdTimer = 60;
      }
    } else {
      if (this.holdTimer > 0) {
        this.holdTimer--;
      } else {
        this.opacity -= 0.02;
        if (this.opacity <= 0) {
          this.opacity = 0;
          this.currentCompanyIndex++;
          if (this.currentCompanyIndex >= this.companyList.length) {
            this.state = "done";
            this.companyText.style.opacity = "0";
            this.companyLogo.style.opacity = "0";
            this.companyText.textContent = "終了";
            this.companyLogo.src = "";
            return;
          }
          this.fadeIn = true;
        }
      }
    }
    this.companyText.textContent = current.name;
    this.companyLogo.src = "https://via.placeholder.com/300x150?text=" + encodeURIComponent(current.name);
    this.companyText.style.opacity = this.opacity.toFixed(2);
    this.companyLogo.style.opacity = this.opacity.toFixed(2);
  }
  onAnyKey() {}
}
window.addEventListener("load", () => {
  new TitleScreen();
});
</script>
</body>
</html>
